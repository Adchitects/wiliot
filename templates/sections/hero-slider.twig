{% set itemsMatrix = entry.heroSliderItemsMatrix.all() %}
{% if itemsMatrix|length > 0 %}
    <section {% if sectionId is defined %} id="{{ sectionId }}" {% endif %} {% if sectionId is defined %} id="{{ sectionId }}" {% endif %} class="u-section u-section--hero-slider {% if itemsMatrix|length > 1 %} js-hero-slider-hld {% endif %}">
        <div class="hero-slider {% if itemsMatrix|length > 1 %} js-hero-slider swiper-container {% endif %}">
            <div class="hero-slider__inner swiper-wrapper">
                {% for item in itemsMatrix %}
                    {% set itemSubtitle = item.itemSubtitle %}
                    {% set itemTitle = item.itemTitle %}
                    {% set itemImage = item.itemImage.one() %}
                    {% set itemImageDuration = item.itemImageDuration %}
                    {% set itemDesktopVideoLink = item.itemDesktopVideoLink %}
                    {% set itemDesktopVideoDuration = item.itemDesktopVideoDuration %}
                    {% set itemMobileVideoLink = item.itemMobileVideoLink %}
                    {% set itemButtonsMatrix = item.itemButtonsMatrix %}
                    <div class="hero-slider__item swiper-slide {% if itemDesktopVideoLink %} js-modal-hld {% endif %}">
                        {% if itemDesktopVideoLink %}
                            <div class="hero-slider__item-video-hld">
                                <iframe allow="autoplay" data-src="{{ itemDesktopVideoLink }}" frameborder="0" width="1920" height="768" class="js-lazy"></iframe>
                            </div>
                        {% elseif (itemImage) %}
                            <div class="hero-slider__item-image-hld">
                                <img class="js-lazy" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 3 2'%3E%3C/svg%3E" data-src="{{ itemImage.getUrl() }}" alt="{{ itemImage.title }}" />
                            </div>
                        {% endif %}
                        <div class="hero-slider__item-text-hld">
                            <div class="u-wrapper">
                                <div class="u-subtitle u-subtitle--big hero-slider__item-subtitle">{{ itemSubtitle }}</div>
                                <div class="u-title u-title--big hero-slider__item-title">{{ itemTitle|nl2br }}</div>
                                {% if itemButtonsMatrix|length > 0 %}
                                    <div class="hero-slider__buttons-hld">
                                        {% for item in itemButtonsMatrix %}
                                            {% set button = item.button %}
                                            <a href="{{ button.url }}" target="{{ button.target ? '_blank' : '_self' }}" rel="{{ button.target ? 'noopener noreferrer' : null }}" class="btn btn--{{ loop.index }} u-btn {{ loop.index == 1 ? 'u-btn--accent' : 'u-btn--light' }}">
                                                <span class="text">{{ button.customText }}</span>
                                            </a>
                                        {% endfor %}
                                        {% if itemDesktopVideoLink %}
                                            <button class="btn u-btn u-btn--light js-modal-btn">
                                                <span class="icon icon-play"></span>
                                                <span class="text">Watch video</span>
                                            </button>
                                        {% endif %}
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                        <div class="video-modal js-modal-modal">
                            <div class="overlay js-modal-close"></div>
                            <div class="video-modal__inner">
                                <div class="video-modal__modal">
                                    <iframe width="560" height="315" class="js-lazy js-modal-iframe" data-src="{{ itemDesktopVideoLink }}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                </div>
                                <span class="video-modal__close js-modal-close">
                                    <span class="icon icon-close"></span>
                                </span>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </section>
{% endif %}
